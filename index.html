<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Employee Onboarding & Role Mapping System</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css"
  />
  <link
    href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap"
    rel="stylesheet"
  />
  <style>
    body {
      font-family: 'Inter', sans-serif;
    }
    .fade-enter {
      opacity: 0;
      transform: translateX(20px);
    }
    .fade-enter-active {
      opacity: 1;
      transform: translateX(0);
      transition: opacity 300ms, transform 300ms;
    }
    .fade-exit {
      opacity: 1;
      transform: translateX(0);
    }
    .fade-exit-active {
      opacity: 0;
      transform: translateX(-20px);
      transition: opacity 300ms, transform 300ms;
    }
  </style>
</head>
<body class="bg-gradient-to-r from-indigo-50 via-white to-cyan-50 min-h-screen flex flex-col">
  <div id="root" class="flex-grow"></div>

  <script type="module">
    import { createApp, ref, reactive, computed, watch } from 'https://unpkg.com/vue@3/dist/vue.esm-browser.js';

    const employeesInitial = [
      {
        id: 1,
        name: 'Alice Johnson',
        employeeId: 'EMP001',
        email: 'alice.johnson@example.com',
        phone: '+1 555-123-4567',
        department: 'Engineering',
        role: 'Employee',
      },
      {
        id: 2,
        name: 'Bob Smith',
        employeeId: 'EMP002',
        email: 'bob.smith@example.com',
        phone: '+1 555-987-6543',
        department: 'HR',
        role: 'HR Admin',
      },
    ];

    const departmentsInitial = [
      { id: 1, name: 'Engineering' },
      { id: 2, name: 'HR' },
      { id: 3, name: 'Sales' },
      { id: 4, name: 'Marketing' },
      { id: 5, name: 'Finance' },
    ];

    const rolesInitial = [
      {
        id: 1,
        name: 'Employee',
        permissions: ['View Attendance'],
      },
      {
        id: 2,
        name: 'Manager',
        permissions: ['View Attendance', 'Approve Leave Requests'],
      },
      {
        id: 3,
        name: 'HR Admin',
        permissions: ['View Attendance', 'Approve Leave Requests', 'Manage Employees'],
      },
    ];

    const app = createApp({
      setup() {
        const currentPage = ref('dashboard');

        // Data stores
        const employees = ref(JSON.parse(localStorage.getItem('employees')) || employeesInitial);
        const departments = ref(JSON.parse(localStorage.getItem('departments')) || departmentsInitial);
        const roles = ref(JSON.parse(localStorage.getItem('roles')) || rolesInitial);

        // Sync to localStorage for persistence
        watch(employees, (val) => {
          localStorage.setItem('employees', JSON.stringify(val));
        }, { deep: true });
        watch(departments, (val) => {
          localStorage.setItem('departments', JSON.stringify(val));
        }, { deep: true });
        watch(roles, (val) => {
          localStorage.setItem('roles', JSON.stringify(val));
        }, { deep: true });

        // Employee Registration Form
        const newEmployee = reactive({
          name: '',
          employeeId: '',
          email: '',
          phone: '',
          department: '',
          role: '',
        });

        const employeeFormErrors = reactive({
          name: '',
          employeeId: '',
          email: '',
          phone: '',
          department: '',
          role: '',
        });

        function validateEmployeeForm() {
          let valid = true;
          employeeFormErrors.name = newEmployee.name.trim() ? '' : 'Name is required.';
          employeeFormErrors.employeeId = newEmployee.employeeId.trim() ? '' : 'Employee ID is required.';
          employeeFormErrors.email = /^\S+@\S+\.\S+$/.test(newEmployee.email) ? '' : 'Valid email is required.';
          employeeFormErrors.phone = /^\+?[0-9\s\-]{7,15}$/.test(newEmployee.phone) ? '' : 'Valid phone number is required.';
          employeeFormErrors.department = newEmployee.department ? '' : 'Department is required.';
          employeeFormErrors.role = newEmployee.role ? '' : 'Role is required.';

          for (const key in employeeFormErrors) {
            if (employeeFormErrors[key]) valid = false;
          }
          return valid;
        }

        function addEmployee() {
          if (!validateEmployeeForm()) return;

          // Check for duplicate employeeId
          if (employees.value.some(e => e.employeeId.toLowerCase() === newEmployee.employeeId.trim().toLowerCase())) {
            employeeFormErrors.employeeId = 'Employee ID must be unique.';
            return;
          }

          employees.value.push({
            id: Date.now(),
            name: newEmployee.name.trim(),
            employeeId: newEmployee.employeeId.trim(),
            email: newEmployee.email.trim(),
            phone: newEmployee.phone.trim(),
            department: newEmployee.department,
            role: newEmployee.role,
          });

          // Reset form
          newEmployee.name = '';
          newEmployee.employeeId = '';
          newEmployee.email = '';
          newEmployee.phone = '';
          newEmployee.department = '';
          newEmployee.role = '';
        }

        // Department Allocation
        const newDepartment = ref('');
        const departmentError = ref('');

        function addDepartment() {
          if (!newDepartment.value.trim()) {
            departmentError.value = 'Department name cannot be empty.';
            return;
          }
          if (departments.value.some(d => d.name.toLowerCase() === newDepartment.value.trim().toLowerCase())) {
            departmentError.value = 'Department already exists.';
            return;
          }
          departments.value.push({
            id: Date.now(),
            name: newDepartment.value.trim(),
          });
          newDepartment.value = '';
          departmentError.value = '';
        }

        // Role-Based Permission Setup
        const newRole = reactive({
          name: '',
          permissions: [],
        });
        const roleError = ref('');
        const permissionOptions = ['View Attendance', 'Approve Leave Requests', 'Manage Employees'];

        function addRole() {
          if (!newRole.name.trim()) {
            roleError.value = 'Role name is required.';
            return;
          }
          if (roles.value.some(r => r.name.toLowerCase() === newRole.name.trim().toLowerCase())) {
            roleError.value = 'Role already exists.';
            return;
          }
          if (newRole.permissions.length === 0) {
            roleError.value = 'Select at least one permission.';
            return;
          }
          roles.value.push({
            id: Date.now(),
            name: newRole.name.trim(),
            permissions: [...newRole.permissions],
          });
          newRole.name = '';
          newRole.permissions = [];
          roleError.value = '';
        }

        // Admin Dashboard - Filtering and Editing
        const filterDepartment = ref('');
        const filterRole = ref('');
        const searchEmployee = ref('');

        const filteredEmployees = computed(() => {
          return employees.value.filter((emp) => {
            const matchesDept = filterDepartment.value ? emp.department === filterDepartment.value : true;
            const matchesRole = filterRole.value ? emp.role === filterRole.value : true;
            const matchesSearch = searchEmployee.value
              ? emp.name.toLowerCase().includes(searchEmployee.value.toLowerCase()) ||
                emp.employeeId.toLowerCase().includes(searchEmployee.value.toLowerCase())
              : true;
            return matchesDept && matchesRole && matchesSearch;
          });
        });

        // Edit Employee Modal
        const editingEmployee = ref(null);
        const editEmployeeData = reactive({
          name: '',
          employeeId: '',
          email: '',
          phone: '',
          department: '',
          role: '',
        });
        const editEmployeeErrors = reactive({
          name: '',
          employeeId: '',
          email: '',
          phone: '',
          department: '',
          role: '',
        });

        function openEditEmployee(emp) {
          editingEmployee.value = emp;
          editEmployeeData.name = emp.name;
          editEmployeeData.employeeId = emp.employeeId;
          editEmployeeData.email = emp.email;
          editEmployeeData.phone = emp.phone;
          editEmployeeData.department = emp.department;
          editEmployeeData.role = emp.role;
        }

        function validateEditEmployeeForm() {
          let valid = true;
          editEmployeeErrors.name = editEmployeeData.name.trim() ? '' : 'Name is required.';
          editEmployeeErrors.employeeId = editEmployeeData.employeeId.trim() ? '' : 'Employee ID is required.';
          editEmployeeErrors.email = /^\S+@\S+\.\S+$/.test(editEmployeeData.email) ? '' : 'Valid email is required.';
          editEmployeeErrors.phone = /^\+?[0-9\s\-]{7,15}$/.test(editEmployeeData.phone) ? '' : 'Valid phone number is required.';
          editEmployeeErrors.department = editEmployeeData.department ? '' : 'Department is required.';
          editEmployeeErrors.role = editEmployeeData.role ? '' : 'Role is required.';

          // Check for duplicate employeeId except current employee
          if (
            employees.value.some(
              (e) =>
                e.employeeId.toLowerCase() === editEmployeeData.employeeId.trim().toLowerCase() &&
                e.id !== editingEmployee.value.id
            )
          ) {
            editEmployeeErrors.employeeId = 'Employee ID must be unique.';
            valid = false;
          }

          for (const key in editEmployeeErrors) {
            if (editEmployeeErrors[key]) valid = false;
          }
          return valid;
        }

        function saveEditedEmployee() {
          if (!validateEditEmployeeForm()) return;
          const index = employees.value.findIndex((e) => e.id === editingEmployee.value.id);
          if (index !== -1) {
            employees.value[index] = {
              id: editingEmployee.value.id,
              name: editEmployeeData.name.trim(),
              employeeId: editEmployeeData.employeeId.trim(),
              email: editEmployeeData.email.trim(),
              phone: editEmployeeData.phone.trim(),
              department: editEmployeeData.department,
              role: editEmployeeData.role,
            };
          }
          editingEmployee.value = null;
        }

        function cancelEdit() {
          editingEmployee.value = null;
        }

        // Delete Employee
        function deleteEmployee(id) {
          if (confirm('Are you sure you want to delete this employee?')) {
            employees.value = employees.value.filter((e) => e.id !== id);
          }
        }

        // Simulated HR Database Sync (mock API)
        const syncStatus = ref('');
        async function syncWithHRDatabase() {
          syncStatus.value = 'Syncing...';
          try {
            // Simulate API call delay
            await new Promise((resolve) => setTimeout(resolve, 1500));
            // Here you would do actual API calls to sync data
            syncStatus.value = 'Sync successful! Employee data is up to date.';
            setTimeout(() => (syncStatus.value = ''), 4000);
          } catch (error) {
            syncStatus.value = 'Sync failed. Please try again later.';
            setTimeout(() => (syncStatus.value = ''), 4000);
          }
        }

        // Navigation helper
        function navigate(page) {
          currentPage.value = page;
          window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        return {
          currentPage,
          navigate,
          employees,
          departments,
          roles,
          newEmployee,
          employeeFormErrors,
          addEmployee,
          newDepartment,
          departmentError,
          addDepartment,
          newRole,
          roleError,
          permissionOptions,
          addRole,
          filterDepartment,
          filterRole,
          searchEmployee,
          filteredEmployees,
          editingEmployee,
          editEmployeeData,
          editEmployeeErrors,
          openEditEmployee,
          saveEditedEmployee,
          cancelEdit,
          deleteEmployee,
          syncWithHRDatabase,
          syncStatus,
        };
      },
      template: `
        <div class="flex flex-col min-h-screen">
          <header class="bg-gradient-to-r from-indigo-600 to-cyan-600 text-white shadow-md">
            <div class="container mx-auto px-4 py-4 flex flex-col md:flex-row items-center justify-between">
              <div class="flex items-center space-x-3">
                <img src="https://placehold.co/48x48/png?text=HR" alt="Company HR logo, blue and white stylized letters HR" class="w-12 h-12 rounded-full shadow-lg" />
                <h1 class="text-2xl font-bold tracking-wide select-none">Employee Onboarding & Role Mapping</h1>
              </div>
              <nav class="mt-3 md:mt-0 space-x-4 text-lg font-semibold">
                <button
                  @click="navigate('dashboard')"
                  :class="currentPage === 'dashboard' ? 'underline decoration-2 decoration-white' : 'hover:underline hover:decoration-white'"
                  class="transition duration-300"
                  aria-label="Go to Admin Dashboard"
                >Dashboard</button>
                <button
                  @click="navigate('employee-registration')"
                  :class="currentPage === 'employee-registration' ? 'underline decoration-2 decoration-white' : 'hover:underline hover:decoration-white'"
                  class="transition duration-300"
                  aria-label="Go to Employee Registration"
                >Employee Registration</button>
                <button
                  @click="navigate('department-allocation')"
                  :class="currentPage === 'department-allocation' ? 'underline decoration-2 decoration-white' : 'hover:underline hover:decoration-white'"
                  class="transition duration-300"
                  aria-label="Go to Department Allocation"
                >Department Allocation</button>
                <button
                  @click="navigate('role-permission-setup')"
                  :class="currentPage === 'role-permission-setup' ? 'underline decoration-2 decoration-white' : 'hover:underline hover:decoration-white'"
                  class="transition duration-300"
                  aria-label="Go to Role-Based Permission Setup"
                >Role & Permissions</button>
                <button
                  @click="navigate('hr-sync')"
                  :class="currentPage === 'hr-sync' ? 'underline decoration-2 decoration-white' : 'hover:underline hover:decoration-white'"
                  class="transition duration-300"
                  aria-label="Go to HR Database Sync"
                >HR Database Sync</button>
              </nav>
            </div>
          </header>

          <main class="flex-grow container mx-auto px-4 py-8">
            <!-- Dashboard -->
            <section v-if="currentPage === 'dashboard'" class="animate-fade-in">
              <h2 class="text-3xl font-extrabold text-indigo-700 mb-6 flex items-center space-x-3">
                <i class="fas fa-tachometer-alt text-indigo-500"></i>
                <span>Admin Dashboard</span>
              </h2>

              <div class="mb-6 grid grid-cols-1 md:grid-cols-3 gap-6">
                <div class="bg-white rounded-lg shadow-lg p-6 border-l-8 border-indigo-500 hover:shadow-xl transition-shadow duration-300">
                  <h3 class="text-xl font-semibold text-indigo-700 mb-2">Total Employees</h3>
                  <p class="text-4xl font-bold text-indigo-900">{{ employees.length }}</p>
                </div>
                <div class="bg-white rounded-lg shadow-lg p-6 border-l-8 border-cyan-500 hover:shadow-xl transition-shadow duration-300">
                  <h3 class="text-xl font-semibold text-cyan-700 mb-2">Departments</h3>
                  <p class="text-4xl font-bold text-cyan-900">{{ departments.length }}</p>
                </div>
                <div class="bg-white rounded-lg shadow-lg p-6 border-l-8 border-purple-500 hover:shadow-xl transition-shadow duration-300">
                  <h3 class="text-xl font-semibold text-purple-700 mb-2">Roles</h3>
                  <p class="text-4xl font-bold text-purple-900">{{ roles.length }}</p>
                </div>
              </div>

              <div class="mb-8 bg-white rounded-lg shadow-lg p-6">
                <h3 class="text-2xl font-semibold text-indigo-700 mb-4 flex items-center space-x-2">
                  <i class="fas fa-search text-indigo-500"></i>
                  <span>Search & Filter Employees</span>
                </h3>
                <div class="flex flex-col md:flex-row md:space-x-4 space-y-4 md:space-y-0 mb-4">
                  <input
                    v-model="searchEmployee"
                    type="text"
                    placeholder="Search by name or employee ID"
                    class="flex-grow border border-gray-300 rounded-md px-4 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-400 transition"
                    aria-label="Search employees by name or employee ID"
                  />
                  <select
                    v-model="filterDepartment"
                    class="border border-gray-300 rounded-md px-4 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-400 transition"
                    aria-label="Filter employees by department"
                  >
                    <option value="">All Departments</option>
                    <option v-for="dept in departments" :key="dept.id" :value="dept.name">{{ dept.name }}</option>
                  </select>
                  <select
                    v-model="filterRole"
                    class="border border-gray-300 rounded-md px-4 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-400 transition"
                    aria-label="Filter employees by role"
                  >
                    <option value="">All Roles</option>
                    <option v-for="role in roles" :key="role.id" :value="role.name">{{ role.name }}</option>
                  </select>
                </div>

                <div class="overflow-x-auto">
                  <table class="min-w-full border-collapse border border-gray-300">
                    <thead class="bg-indigo-100">
                      <tr>
                        <th class="border border-gray-300 px-4 py-2 text-left">Name</th>
                        <th class="border border-gray-300 px-4 py-2 text-left">Employee ID</th>
                        <th class="border border-gray-300 px-4 py-2 text-left">Email</th>
                        <th class="border border-gray-300 px-4 py-2 text-left">Phone</th>
                        <th class="border border-gray-300 px-4 py-2 text-left">Department</th>
                        <th class="border border-gray-300 px-4 py-2 text-left">Role</th>
                        <th class="border border-gray-300 px-4 py-2 text-center">Actions</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr v-if="filteredEmployees.length === 0" class="text-center text-gray-500">
                        <td colspan="7" class="py-4">No employees found.</td>
                      </tr>
                      <tr v-for="emp in filteredEmployees" :key="emp.id" class="hover:bg-indigo-50 transition-colors duration-200">
                        <td class="border border-gray-300 px-4 py-2">{{ emp.name }}</td>
                        <td class="border border-gray-300 px-4 py-2">{{ emp.employeeId }}</td>
                        <td class="border border-gray-300 px-4 py-2">{{ emp.email }}</td>
                        <td class="border border-gray-300 px-4 py-2">{{ emp.phone }}</td>
                        <td class="border border-gray-300 px-4 py-2">{{ emp.department }}</td>
                        <td class="border border-gray-300 px-4 py-2">{{ emp.role }}</td>
                        <td class="border border-gray-300 px-4 py-2 text-center space-x-2">
                          <button
                            @click="openEditEmployee(emp)"
                            class="text-indigo-600 hover:text-indigo-900 transition"
                            aria-label="Edit employee"
                          >
                            <i class="fas fa-edit"></i>
                          </button>
                          <button
                            @click="deleteEmployee(emp.id)"
                            class="text-red-600 hover:text-red-900 transition"
                            aria-label="Delete employee"
                          >
                            <i class="fas fa-trash-alt"></i>
                          </button>
                        </td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </div>
            </section>

            <!-- Employee Registration -->
            <section v-if="currentPage === 'employee-registration'" class="animate-fade-in max-w-3xl mx-auto bg-white rounded-lg shadow-lg p-8">
              <h2 class="text-3xl font-extrabold text-cyan-700 mb-6 flex items-center space-x-3">
                <i class="fas fa-user-plus text-cyan-500"></i>
                <span>Employee Registration</span>
              </h2>
              <form @submit.prevent="addEmployee" novalidate>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                  <div>
                    <label for="name" class="block font-semibold text-gray-700 mb-1">Full Name</label>
                    <input
                      id="name"
                      v-model="newEmployee.name"
                      type="text"
                      placeholder="John Doe"
                      class="w-full border border-gray-300 rounded-md px-4 py-2 focus:outline-none focus:ring-2 focus:ring-cyan-400 transition"
                      aria-describedby="name-error"
                      required
                    />
                    <p v-if="employeeFormErrors.name" id="name-error" class="text-red-600 text-sm mt-1">{{ employeeFormErrors.name }}</p>
                  </div>
                  <div>
                    <label for="employeeId" class="block font-semibold text-gray-700 mb-1">Employee ID</label>
                    <input
                      id="employeeId"
                      v-model="newEmployee.employeeId"
                      type="text"
                      placeholder="EMP123"
                      class="w-full border border-gray-300 rounded-md px-4 py-2 focus:outline-none focus:ring-2 focus:ring-cyan-400 transition"
                      aria-describedby="employeeId-error"
                      required
                    />
                    <p v-if="employeeFormErrors.employeeId" id="employeeId-error" class="text-red-600 text-sm mt-1">{{ employeeFormErrors.employeeId }}</p>
                  </div>
                  <div>
                    <label for="email" class="block font-semibold text-gray-700 mb-1">Email Address</label>
                    <input
                      id="email"
                      v-model="newEmployee.email"
                      type="email"
                      placeholder="john.doe@example.com"
                      class="w-full border border-gray-300 rounded-md px-4 py-2 focus:outline-none focus:ring-2 focus:ring-cyan-400 transition"
                      aria-describedby="email-error"
                      required
                    />
                    <p v-if="employeeFormErrors.email" id="email-error" class="text-red-600 text-sm mt-1">{{ employeeFormErrors.email }}</p>
                  </div>
                  <div>
                    <label for="phone" class="block font-semibold text-gray-700 mb-1">Phone Number</label>
                    <input
                      id="phone"
                      v-model="newEmployee.phone"
                      type="tel"
                      placeholder="+1 555-123-4567"
                      class="w-full border border-gray-300 rounded-md px-4 py-2 focus:outline-none focus:ring-2 focus:ring-cyan-400 transition"
                      aria-describedby="phone-error"
                      required
                    />
                    <p v-if="employeeFormErrors.phone" id="phone-error" class="text-red-600 text-sm mt-1">{{ employeeFormErrors.phone }}</p>
                  </div>
                  <div>
                    <label for="department" class="block font-semibold text-gray-700 mb-1">Department</label>
                    <select
                      id="department"
                      v-model="newEmployee.department"
                      class="w-full border border-gray-300 rounded-md px-4 py-2 focus:outline-none focus:ring-2 focus:ring-cyan-400 transition"
                      aria-describedby="department-error"
                      required
                    >
                      <option value="" disabled>Select Department</option>
                      <option v-for="dept in departments" :key="dept.id" :value="dept.name">{{ dept.name }}</option>
                    </select>
                    <p v-if="employeeFormErrors.department" id="department-error" class="text-red-600 text-sm mt-1">{{ employeeFormErrors.department }}</p>
                  </div>
                  <div>
                    <label for="role" class="block font-semibold text-gray-700 mb-1">Role</label>
                    <select
                      id="role"
                      v-model="newEmployee.role"
                      class="w-full border border-gray-300 rounded-md px-4 py-2 focus:outline-none focus:ring-2 focus:ring-cyan-400 transition"
                      aria-describedby="role-error"
                      required
                    >
                      <option value="" disabled>Select Role</option>
                      <option v-for="role in roles" :key="role.id" :value="role.name">{{ role.name }}</option>
                    </select>
                    <p v-if="employeeFormErrors.role" id="role-error" class="text-red-600 text-sm mt-1">{{ employeeFormErrors.role }}</p>
                  </div>
                </div>
                <div class="mt-8 flex justify-end">
                  <button
                    type="submit"
                    class="bg-cyan-600 hover:bg-cyan-700 text-white font-semibold px-6 py-3 rounded-md shadow-md transition duration-300 flex items-center space-x-2"
                    aria-label="Add new employee"
                  >
                    <i class="fas fa-user-plus"></i>
                    <span>Add Employee</span>
                  </button>
                </div>
              </form>
            </section>

            <!-- Department Allocation -->
            <section v-if="currentPage === 'department-allocation'" class="animate-fade-in max-w-3xl mx-auto bg-white rounded-lg shadow-lg p-8">
              <h2 class="text-3xl font-extrabold text-indigo-700 mb-6 flex items-center space-x-3">
                <i class="fas fa-building text-indigo-500"></i>
                <span>Department Allocation</span>
              </h2>

              <form @submit.prevent="addDepartment" class="mb-8">
                <label for="newDepartment" class="block font-semibold text-gray-700 mb-2">Add New Department</label>
                <div class="flex space-x-4">
                  <input
                    id="newDepartment"
                    v-model="newDepartment"
                    type="text"
                    placeholder="Department Name"
                    class="flex-grow border border-gray-300 rounded-md px-4 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-400 transition"
                    aria-describedby="department-error"
                    required
                  />
                  <button
                    type="submit"
                    class="bg-indigo-600 hover:bg-indigo-700 text-white font-semibold px-6 py-2 rounded-md shadow-md transition duration-300 flex items-center space-x-2"
                    aria-label="Add new department"
                  >
                    <i class="fas fa-plus"></i>
                    <span>Add</span>
                  </button>
                </div>
                <p v-if="departmentError" id="department-error" class="text-red-600 text-sm mt-1">{{ departmentError }}</p>
              </form>

              <h3 class="text-xl font-semibold text-indigo-700 mb-4">Existing Departments</h3>
              <ul class="list-disc list-inside space-y-2 text-gray-700">
                <li v-for="dept in departments" :key="dept.id" class="flex items-center space-x-3">
                  <i class="fas fa-building text-indigo-500"></i>
                  <span>{{ dept.name }}</span>
                </li>
              </ul>
            </section>

            <!-- Role-Based Permission Setup -->
            <section v-if="currentPage === 'role-permission-setup'" class="animate-fade-in max-w-4xl mx-auto bg-white rounded-lg shadow-lg p-8">
              <h2 class="text-3xl font-extrabold text-purple-700 mb-6 flex items-center space-x-3">
                <i class="fas fa-user-shield text-purple-500"></i>
                <span>Role-Based Permission Setup</span>
              </h2>

              <form @submit.prevent="addRole" class="mb-8 max-w-2xl">
                <label for="roleName" class="block font-semibold text-gray-700 mb-2">Add New Role</label>
                <input
                  id="roleName"
                  v-model="newRole.name"
                  type="text"
                  placeholder="Role Name (e.g., Manager)"
                  class="w-full border border-gray-300 rounded-md px-4 py-2 mb-4 focus:outline-none focus:ring-2 focus:ring-purple-400 transition"
                  aria-describedby="role-error"
                  required
                />
                <fieldset class="mb-4">
                  <legend class="font-semibold text-gray-700 mb-2">Permissions</legend>
                  <div class="flex flex-wrap gap-4">
                    <label
                      v-for="perm in permissionOptions"
                      :key="perm"
                      class="inline-flex items-center space-x-2 cursor-pointer select-none"
                    >
                      <input
                        type="checkbox"
                        :value="perm"
                        v-model="newRole.permissions"
                        class="form-checkbox h-5 w-5 text-purple-600"
                        aria-checked="false"
                      />
                      <span class="text-gray-800">{{ perm }}</span>
                    </label>
                  </div>
                </fieldset>
                <p v-if="roleError" id="role-error" class="text-red-600 text-sm mb-4">{{ roleError }}</p>
                <button
                  type="submit"
                  class="bg-purple-600 hover:bg-purple-700 text-white font-semibold px-6 py-3 rounded-md shadow-md transition duration-300 flex items-center space-x-2"
                  aria-label="Add new role"
                >
                  <i class="fas fa-plus-circle"></i>
                  <span>Add Role</span>
                </button>
              </form>

              <h3 class="text-xl font-semibold text-purple-700 mb-4">Existing Roles & Permissions</h3>
              <div class="space-y-4">
                <div
                  v-for="role in roles"
                  :key="role.id"
                  class="border border-purple-300 rounded-md p-4 shadow-sm hover:shadow-md transition-shadow duration-300"
                >
                  <h4 class="text-lg font-bold text-purple-800 mb-2 flex items-center space-x-2">
                    <i class="fas fa-user-tag text-purple-600"></i>
                    <span>{{ role.name }}</span>
                  </h4>
                  <ul class="list-disc list-inside text-gray-700">
                    <li v-for="perm in role.permissions" :key="perm">{{ perm }}</li>
                  </ul>
                </div>
              </div>
            </section>

            <!-- HR Database Sync -->
            <section v-if="currentPage === 'hr-sync'" class="animate-fade-in max-w-2xl mx-auto bg-white rounded-lg shadow-lg p-8 text-center">
              <h2 class="text-3xl font-extrabold text-green-700 mb-6 flex items-center justify-center space-x-3">
                <i class="fas fa-database text-green-500"></i>
                <span>HR Database Integration</span>
              </h2>
              <p class="text-gray-700 mb-6 max-w-xl mx-auto">
                Synchronize employee data with the master HR database to ensure data consistency across systems.
              </p>
              <button
                @click="syncWithHRDatabase"
                class="bg-green-600 hover:bg-green-700 text-white font-semibold px-8 py-4 rounded-md shadow-md transition duration-300 flex items-center justify-center mx-auto space-x-3"
                aria-label="Sync with HR database"
              >
                <i class="fas fa-sync-alt fa-spin" v-if="syncStatus === 'Syncing...'"></i>
                <i class="fas fa-database" v-else></i>
                <span>Sync Now</span>
              </button>
              <p v-if="syncStatus" class="mt-6 text-lg font-semibold text-green-700 select-none" role="status" aria-live="polite">{{ syncStatus }}</p>
              <img
                src="https://placehold.co/600x300/png?text=HR+Database+Sync+Illustration"
                alt="Illustration showing data synchronization between employee system and master HR database with arrows and database icons"
                class="mx-auto mt-10 rounded-lg shadow-lg"
                loading="lazy"
              />
            </section>

            <!-- Edit Employee Modal -->
            <div
              v-if="editingEmployee"
              class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4"
              role="dialog"
              aria-modal="true"
              aria-labelledby="editEmployeeTitle"
            >
              <div class="bg-white rounded-lg shadow-lg max-w-2xl w-full p-6 relative animate-fade-in">
                <h3 id="editEmployeeTitle" class="text-2xl font-bold text-indigo-700 mb-6 flex items-center space-x-3">
                  <i class="fas fa-user-edit text-indigo-500"></i>
                  <span>Edit Employee</span>
                </h3>
                <form @submit.prevent="saveEditedEmployee" novalidate>
                  <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div>
                      <label for="editName" class="block font-semibold text-gray-700 mb-1">Full Name</label>
                      <input
                        id="editName"
                        v-model="editEmployeeData.name"
                        type="text"
                        class="w-full border border-gray-300 rounded-md px-4 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-400 transition"
                        aria-describedby="editName-error"
                        required
                      />
                      <p v-if="editEmployeeErrors.name" id="editName-error" class="text-red-600 text-sm mt-1">{{ editEmployeeErrors.name }}</p>
                    </div>
                    <div>
                      <label for="editEmployeeId" class="block font-semibold text-gray-700 mb-1">Employee ID</label>
                      <input
                        id="editEmployeeId"
                        v-model="editEmployeeData.employeeId"
                        type="text"
                        class="w-full border border-gray-300 rounded-md px-4 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-400 transition"
                        aria-describedby="editEmployeeId-error"
                        required
                      />
                      <p v-if="editEmployeeErrors.employeeId" id="editEmployeeId-error" class="text-red-600 text-sm mt-1">{{ editEmployeeErrors.employeeId }}</p>
                    </div>
                    <div>
                      <label for="editEmail" class="block font-semibold text-gray-700 mb-1">Email Address</label>
                      <input
                        id="editEmail"
                        v-model="editEmployeeData.email"
                        type="email"
                        class="w-full border border-gray-300 rounded-md px-4 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-400 transition"
                        aria-describedby="editEmail-error"
                        required
                      />
                      <p v-if="editEmployeeErrors.email" id="editEmail-error" class="text-red-600 text-sm mt-1">{{ editEmployeeErrors.email }}</p>
                    </div>
                    <div>
                      <label for="editPhone" class="block font-semibold text-gray-700 mb-1">Phone Number</label>
                      <input
                        id="editPhone"
                        v-model="editEmployeeData.phone"
                        type="tel"
                        class="w-full border border-gray-300 rounded-md px-4 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-400 transition"
                        aria-describedby="editPhone-error"
                        required
                      />
                      <p v-if="editEmployeeErrors.phone" id="editPhone-error" class="text-red-600 text-sm mt-1">{{ editEmployeeErrors.phone }}</p>
                    </div>
                    <div>
                      <label for="editDepartment" class="block font-semibold text-gray-700 mb-1">Department</label>
                      <select
                        id="editDepartment"
                        v-model="editEmployeeData.department"
                        class="w-full border border-gray-300 rounded-md px-4 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-400 transition"
                        aria-describedby="editDepartment-error"
                        required
                      >
                        <option value="" disabled>Select Department</option>
                        <option v-for="dept in departments" :key="dept.id" :value="dept.name">{{ dept.name }}</option>
                      </select>
                      <p v-if="editEmployeeErrors.department" id="editDepartment-error" class="text-red-600 text-sm mt-1">{{ editEmployeeErrors.department }}</p>
                    </div>
                    <div>
                      <label for="editRole" class="block font-semibold text-gray-700 mb-1">Role</label>
                      <select
                        id="editRole"
                        v-model="editEmployeeData.role"
                        class="w-full border border-gray-300 rounded-md px-4 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-400 transition"
                        aria-describedby="editRole-error"
                        required
                      >
                        <option value="" disabled>Select Role</option>
                        <option v-for="role in roles" :key="role.id" :value="role.name">{{ role.name }}</option>
                      </select>
                      <p v-if="editEmployeeErrors.role" id="editRole-error" class="text-red-600 text-sm mt-1">{{ editEmployeeErrors.role }}</p>
                    </div>
                  </div>
                  <div class="mt-8 flex justify-end space-x-4">
                    <button
                      type="button"
                      @click="cancelEdit"
                      class="bg-gray-300 hover:bg-gray-400 text-gray-800 font-semibold px-6 py-3 rounded-md shadow-md transition duration-300"
                      aria-label="Cancel editing employee"
                    >
                      Cancel
                    </button>
                    <button
                      type="submit"
                      class="bg-indigo-600 hover:bg-indigo-700 text-white font-semibold px-6 py-3 rounded-md shadow-md transition duration-300 flex items-center space-x-2"
                      aria-label="Save edited employee"
                    >
                      <i class="fas fa-save"></i>
                      <span>Save</span>
                    </button>
                  </div>
                </form>
                <button
                  @click="cancelEdit"
                  class="absolute top-3 right-3 text-gray-600 hover:text-gray-900 transition"
                  aria-label="Close edit employee modal"
                >
                  <i class="fas fa-times fa-lg"></i>
                </button>
              </div>
            </div>
          </main>

          <footer class="bg-gradient-to-r from-indigo-600 to-cyan-600 text-white py-4 text-center select-none">
            <p>© 2025 Employee Onboarding & Role Mapping System. All rights reserved.</p>
          </footer>
        </div>
      `,
    });

    app.mount('#root');
  </script>
</body>
</html>